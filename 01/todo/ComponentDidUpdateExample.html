<html>
  <head>
<style>
  body {
    font-size: 2rem;
  }
  nav {
    display: flex;
    justify-content: space-around;
  }
</style>
    <script crossorigin src="https://unpkg.com/react@17/umd/react.development.js"></script>
<script crossorigin src="https://unpkg.com/react-dom@17/umd/react-dom.development.js"></script>
<script src="https://unpkg.com/babel-standalone@6/babel.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/react-router-dom/5.2.0/react-router-dom.min.js" integrity="sha512-NG4Cm3Ubs7d/nPyzrTFM53RP8tPjQhRT0hea48yJ/qEXsuhq7wGbjX68A5gBiW6BoCQbqE3/M+UOj2lLXPauhw==" crossorigin="anonymous"></script>
  </head>
  <body>
    <div id='root'></div>

    <script type='text/babel'>
      const { HashRouter, Route, Link } = ReactRouterDOM;

      class Page extends React.Component{
        constructor(props){
          super(props);
          this.state = {
            id: this.props.match.params.id
          };
        }
        componentDidUpdate(prevProps){
          if(prevProps.match.params.id !== this.props.match.params.id){
            this.setState({ id: this.props.match.params.id });
          }
        }
        render(){
          const { id } = this.state;
          return (
            <input value={ id } onChange={ ev => this.setState({ id: ev.target.value})}/>
          );
        }
      }
      const App = ()=> {
        return (
          <HashRouter>
            <nav>
              <Link to='/pages/1'>1</Link>
              <Link to='/pages/2'>2</Link>
              <Link to='/pages/3'>3</Link>
            </nav>
            <Route component={ Page } path='/pages/:id'/>
          </HashRouter>
        );
      };

      ReactDOM.render(<App />, document.querySelector('#root'));
    </script>
  </body>
</html>
